"""
Абстрактный интерфейс настроек уведомлений для Telegram-бота.

Модуль определяет абстрактный класс для работы с настройками уведомлений,
который должен быть реализован конкретными классами для разных хранилищ
(например, Redis, файловое хранилище и т.д.).
"""

from abc import ABC, abstractmethod

from ..models import NotificationSettings


class AbstractSettings(ABC):
    """
    Абстрактный класс для управления настройками уведомлений.

    Определяет интерфейс для получения, установки и сброса настроек
    уведомлений, которые используются для фильтрации предложений
    перед отправкой пользователям через Telegram.
    """

    @abstractmethod
    async def get(self) -> NotificationSettings | None:
        """
        Получает текущие настройки уведомлений.

        Returns:
            NotificationSettings или None, если настройки не заданы
        """
        ...

    @abstractmethod
    async def set(self, settings: NotificationSettings) -> None:
        """
        Устанавливает новые настройки уведомлений.

        Args:
            settings: Объект с новыми настройками уведомлений
        """
        ...

    @abstractmethod
    async def set_default(self) -> None:
        """
        Устанавливает настройки уведомлений по умолчанию.

        Этот метод необходим для абстрактного интерфейса и должен быть
        реализован в конкретных классах, даже если в текущей версии проекта
        он не используется. Он обеспечивает возможность инициализации
        настроек значениями по умолчанию.
        """
        ...
